# Exercise 3 : Create Backup policy for VMS


Veeam Backup for Microsoft Azure performs VM backup in the following way:

Veeam Backup for Microsoft Azure creates snapshots of virtual disks that are attached to the processed Azure VM.
Disk snapshots are assigned Azure tags upon creation. Keys and values of Azure tags contain encrypted metadata that helps Veeam Backup for Microsoft Azure identify the related disk snapshots and treat them as a single unit â€” a cloud-native snapshot.

If you enable image-level backup for the backup policy, Veeam Backup for Microsoft Azure performs the following operations:
Launches a worker instance in an Azure region in which a processed Azure VM resides.
By default, Veeam Backup for Microsoft Azure launches worker instances using automatically created virtual network. However, you can add specific worker configurations.

Reads data from a cloud-native snapshot, transfers the data to a backup repository and stores it in the native Veeam format.
To reduce the amount of data read from snapshot, Veeam Backup for Microsoft Azure uses the changed block tracking (CBT) mechanism: during incremental backup sessions, Veeam Backup for Microsoft Azure compares the new cloud-native snapshot with the previous one and reads only those data blocks that have changed since the previous backup session.

Deallocates the worker instance when the backup session completes
## Overview

In this exercise you will create the backup for both Linux and Windows virtual Machine.


## Task 1 : Create Backup policy for Virtual Machine


1. Click on **Configuration(1)** in the upper left corner of screen, click on **Getting started page(2)** and **Create your first policy(3)**
![veeam144](./images/veeam144.jpg)
2. Click on **+Add**
![veeam145](./images/veeam145.jpg)
3. Under **Policy Info(1)** section enter the Name: **Virtual Machine Backup(2)** and Description: **Creation of Backup for virtual Machine(3)** and click on **Next**
![veeam146](./images/veeam146.jpg)
4. Select the **Sources(1)** and Click on **Select Azure Active Directory(2)**
![veeam147](./images/veeam147.jpg)
5. Select the directory and Click on **Apply**
![veeam148](./images/veeam148.jpg)
6. Select the **Sources(1)** and Click on **Choose regions(2)**
![veeam149](./images/veeam149.jpg)
7. Select the region of resource group and click **Add**
![veeam150](./images/veeam150.jpg)
8. Click on **Apply**
![veeam151](./images/veeam151.jpg)
9. Select the **Sources(1)** and Click on **select resources to protect(2)**
![veeam152](./images/veeam152.jpg)
10. Select the **protect the following resources(1)** and click on **Browse to select the specific source from the global list(2)**
![veeam153](./images/veeam153.jpg)
11. Select the checkboxes for both **VeeamLinux-DID(1)** and **winVM-DID(2)** and **ADD(3)**
![veeam154](./images/veeam154.jpg)
12. Click on **Apply**
![veeam155](./images/veeam155.jpg)
13. Click on **Next**
![veeam156](./images/veeam156.jpg)
14. Under **Guest processing(1)** section enable the feature **Enable application-aware snapshots(2)** and click **Next(3)**
![veeam157](./images/veeam157.jpg)
15. Under **Targets(1)** section **Enable Backups: On(2)** click **Next(3)**.
![veeam158](./images/veeam158.jpg)
16. Under **Schedule(1)** section, enable **Daily retention: On(2)** and click om **Edit Daily Settings(3)**
![veeam159](./images/veeam159.jpg)
17. Select the **Repository : Azure Backup(1)** and Click on **Apply(2)** 
![veeam160](./images/veeam160.jpg)
18. click on **Next**.
![veeam161](./images/veeam161.jpg)
19. Under **Settings(1)** leave defaults and click on **Next(2)**.
![veeam162](./images/veeam162.jpg)
20. Select the **Cost Estimation(1)** and review the cost estimation and click **Next(2)**
![veeam163](./images/veeam163.jpg)
21. Review the **Summary(1)** section and click on **Finish(2)**
![veeam164](./images/veeam164.jpg)
22. Move to **policies(1)**, click on **Virtual Machine(2)**, Check the **priority(3)** and click on **Start(4)**
![veeam165](./images/veeam165.jpg)
23. Wait Untill the Backup is **Success**
![veeam166](./images/veeam166.jpg)
